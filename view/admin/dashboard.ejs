<!DOCTYPE HTML>
<html lang="en">


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:32:35 GMT -->
<head>
    <meta charset="utf-8">
    <title>Dashboard</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/imgs/theme/favicon.png">
    <!-- Template CSS -->
    <link href="/admin-assets/css/main.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <style>


        .custom-brown {
    background-color: rgb(10, 0, 0);
    /* You can also adjust other styles like text color, border, etc., to fit your design */
}
.custom-green{
    background-color: rgb(21, 123, 21);
}
.custom-red{
    background-color: rgb(185, 16, 13)
}
.custom-orange{
    background-color: rgb(246, 137, 53);
}
.custom-blue{
    background-color: dodgerblue;
}
.custom-dgreen{
    background-color: rgb(175, 248, 6);
}
.custom-orange{
    background-color: rgb(228, 159, 9);
}
.badge.rounded-pill {
    padding: 0.1rem 0.5rem; /* Adjust padding as needed */
    font-size: 0.7rem; /* Adjust font size as needed */
    height: 1.2rem; /* Adjust height as needed */
    width: 80px; /* Set a fixed width for the badges */
    display: inline-flex; /* Use inline-flex to allow centering of content */
    justify-content: center; /* Center the content horizontally */
    align-items: center; /* Center the content vertically */
    overflow: hidden; /* Hide any overflowing text */
    white-space: nowrap; /* Prevent text from wrapping */
    text-overflow: ellipsis; /* Display ellipsis (...) for overflowed text */
}



/* table design */




        /* General styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }

        .card {
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .card-header {
            background: linear-gradient(to right, #f6f4f4, #26aefd);
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            border-radius: 10px 10px 0 0;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
        }

        th {
            background-color: #00bcd4;
            color: #ffffff;
        }

        tbody tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        .custom-table-header {
            background-color: #77aee8;
            color: #ffffff;
            font-weight: bold;
        }

        .custom-table-header th {
            padding: 10px;
        }

        /* chart.................. */

       .chartbody {
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: #f4f4f4;
}


.chart-container {
    position: relative;
    margin: 20px 0;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

canvas {
    width: 100%;
    height: 400px; /* Increase the height as needed */
}


/* navvvvvvvvvvv */



    
    </style>




</head>


<body>
    <div class="screen-overlay"></div>
    <aside class="navbar-aside" id="offcanvas_aside">
        <div class="aside-top">
            <a href="index.html" class="brand-wrap">
                <img src="/assets/imgs/theme/logo.png" class="logo" alt="Evara Dashboard">
            </a>
            <div>
                <button class="btn btn-icon btn-aside-minimize"> <i class="text-muted material-icons md-menu_open"></i> </button>
            </div>
        </div>
        <nav>
            <ul class="menu-aside">
                 <li class="menu-item active"> 
                    <a class="menu-link" href="/admin/dashboard"> <i class="icon material-icons md-home"></i>
                        <span class="text">Dashboard</span>
                    </a>
                </li> 
               
                    <a class="menu-link" href="/admin/productlist"> <i class="icon material-icons md-shopping_bag"></i>
                        <span class="text">Products</span>
                    </a>
                   
                
                    <a class="menu-link" href="/admin/getOrders"> <i class="icon material-icons md-shopping_cart"></i>
                        <span class="text">Orders</span>
                    </a>
                   
                
                    <a class="menu-link" href="/admin/userlist"> <i class="bi bi-person-fill"></i>
                        <span class="text">Customers</span>
                    </a>
                     
               
                    <a class="menu-link" href="/admin/addProduct"> <i class="icon material-icons md-add_box"></i>
                        <span class="text">Add product</span>
                    </a>
                    <a class="menu-link" href="/admin/categories"> <i class="icon material-icons md-add_box"></i>
                        <span class="text">Catagories</span>
                    </a>
                   
               
                   
              
                    <a class="menu-link" href="/admin/banner"> <i class="icon material-icons md-person"></i>
                        <span class="text">Banner Management</span>
                    </a>
                    
                 
                        <a class="menu-link" href="/admin/offers"> <i class="icon material-icons md-comment"></i>
                            <span class="text">Offers</span>
                        </a>
                      
                
                
                    <a class="menu-link" href="/admin/brand"> <i class="icon material-icons md-stars"></i>
                        <span class="text">Brands</span> </a>
                
                    <a class="menu-link" disabled href="/admin/Coupons"> <i class="icon material-icons md-pie_chart"></i>
                        <span class="text">Coupon</span>
                    </a>
               
            </ul>
            <hr>
            <ul class="menu-aside">
               
                    <a class="menu-link" href="/admin/dashboard"> <i class="icon material-icons md-settings"></i>
                        <span class="text">Settings</span>
                    </a>
                    
               
                    <a class="menu-link" href="/admin/dashboard"> <i class="icon material-icons md-local_offer"></i>
                        <span class="text"> Starter page </span>
                    </a>
                
            </ul>
            <br>
            <br>
        </nav>
          
    </aside>
    <main class="main-wrap">
        <header class="main-header navbar">
            <div class="col-search">
                <form class="searchform">
                   
                </form>
            </div>
            <div class="col-nav">
                <button class="btn btn-icon btn-mobile me-auto" data-trigger="#offcanvas_aside"> <i class="material-icons md-apps"></i> </button>
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link btn-icon" href="#">
                           
                        </a>
                    </li>
                   
                    <li class="dropdown nav-item">
                        <a class="dropdown-toggle" data-bs-toggle="dropdown" href="#" id="dropdownAccount" aria-expanded="false"> <img class="img-xs rounded-circle" src="/admin-assets/imgs/people/avatar2.jpg" alt="User"></a>
                        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownAccount">
                           
                            <a class="dropdown-item text-danger" href="/admin/logout"><i class="material-icons md-exit_to_app"></i>Logout</a>
                        </div>
                    </li>
                </ul>
            </div>
        </header>
        <section class="content-main">
            <div class="content-header">
                <div>
                    <h2 class="content-title card-title">Dashboard </h2>
                    <p>Whole data about your business here</p>
                </div>
                <div>
                    
                    <a href="/admin/salesReport" class="btn btn-primary"><i class="text-muted material-icons md-post_add"></i>Create Report</a>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3">
                   <%if(locals.salesData){%>
                    <div class="card card-body mb-4">
                        <article class="icontext">
                            <span class="icon icon-sm rounded-circle bg-primary-light"><i class="text-primary material-icons md-monetization_on"></i></span>
                            <div class="text">
                                <%let total=0%>
                                <%salesData.forEach((item)=>{
                                    if(!isNaN(parseInt(item.totalAmount))){
                                       total+= parseInt(item.totalAmount)
                                   }
                               })%>
                                <h6 class="mb-1 card-title">Revenue</h6>
                                <!-- <span>Rs <%=total%></span> -->
                                <span>Rs <%= total.toLocaleString() %></span>
                                <span class="text-sm">
                                    Shipping fees are not included
                                </span>
                            </div>
                        </article>
                    </div>

                    <%}%>
                    
                </div>
                <div class="col-lg-3">
                    <div class="card card-body mb-4">
                        <article class="icontext">
                            <span class="icon icon-sm rounded-circle bg-success-light"><i class="text-success material-icons md-local_shipping"></i></span>
                            <div class="text">
                               <%if(locals.totalOrders){%>
                                <h6 class="mb-1 card-title">Orders</h6> <span><%=totalOrders.length%></span>
                                <span class="text-sm">
                                    Excluding orders in transit
                                </span>

                                <%}%>
                               
                            </div>
                        </article>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="card card-body mb-4">
                        <article class="icontext">
                            <%if(locals.totalProducts){%>
                                
                                <span class="icon icon-sm rounded-circle bg-warning-light"><i class="text-warning material-icons md-qr_code"></i></span>
                            <div class="text">
                                <h6 class="mb-1 card-title">Products</h6> <span><%=totalProducts.length%></span>
                                <%if(locals.categories){%>
                                    <span class="text-sm">
                                        In <%=categories.length%> Categories
                                    </span>
                                <%}%>
                            </div>
                                       
                            <%}%>
                            
                        </article>
                    </div>
                </div>
                

                  <%if(locals.brands){%>
                    <div class="col-lg-3">
                        <div class="card card-body mb-4">
                            <article class="icontext">
                                <span class="icon icon-sm rounded-circle bg-info-light"><i class="text-info material-icons md-shopping_basket"></i></span>
                                <div class="text">
                                    <h6 class="mb-1 card-title">Total Brands</h6> <span><%=brands.length%></span>
                                    <span class="text-sm">
                                        Based in your local time.
                                    </span>
                                </div>
                            </article>
                        </div>
                    </div>

                  <%}%>
              
               
        
            </div>
            <div class="row">
                <div class="col-xl-8 col-lg-12">
                   
                    <div class="chart-container">
                        <canvas id="monthlySalesChart"></canvas>
                    </div>
                   
                  </div>
            </div>


           

            
            <div class="card mb-4">
                <header class="card-header">
                    <h4 class="card-title">Top Selling Products </h4>
                    
                </header>
                <div class="card-body">
                    <div class="table-responsive">

                        <!-- newtable -->

                        <div class="card-body">
                            <div class="table-responsive">
                                <div class="table-responsive">
                                    <table class="table align-middle table-nowrap mb-0">
                                        <thead class="custom-table-header">
                                            <tr>
                                                 
                                                <th>Product Name</th>
                                                <th>Total Orders</th>  
                                               
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <% mostOrderedProducts.forEach(product => { %>
                                                <tr>
        
                                                   
                                                    
                                                    <td><%= product.title %></td> 
                                                    <td><%= product.totalQuantity %></td>
                                                  
                                                </tr>
                                            <% }); %>
                                           
                                           
                                        </tbody>
                                    </table>
                                </div>
                            </div> <!-- table-responsive end// -->
                        </div>

                         <!-- newtable -->
                       
                        
                    </div> <!-- table-responsive end// -->
                </div>
            </div>
            <!-- ---------------------------------------------top selling categories------------------------------------------------------------------------- -->

            <div class="card mb-4">
                <header class="card-header">
                    <h4 class="card-title">Top Selling Categories</h4>
                    
                </header>
                <div class="card-body">
                    <div class="table-responsive">

                        <!-- newtable -->

                        <div class="card-body">
                            <div class="table-responsive">
                                <div class="table-responsive">
                                    <table class="table align-middle table-nowrap mb-0">
                                        <thead class="custom-table-header">
                                            <tr>
                                                 
                                                <th>Category Name</th>
                                                <th>Total Orders</th>  
                                               
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <% topSellingCategories.forEach(cat => { %>
                                                <tr>
        
                                                  
                                                    
                                                    <td><%= cat.categoryName %></td> <!-- Product name -->
                                                    <td><%= cat.totalQuantity %></td> <!-- Total quantity ordered -->   
                                                  
                                                </tr>
                                            <% }); %>
                                           
                                           
                                        </tbody>
                                    </table>
                                </div>
                            </div> <!-- table-responsive end// -->
                        </div>

                         <!-- newtable -->
                       
                        
                    </div> <!-- table-responsive end// -->
                </div>
            </div>



            <!-- -----------------------------------------------top sellimg categories end---------------------------------------------------------------------------------------------- -->

            <!-- ---------------------------------------------------top Selling Brands --------------------------------------------------------------------------------------------------->


            <div class="card mb-4">
                <header class="card-header">
                    <h4 class="card-title">Top Selling Brands</h4>
                    
                </header>
                <div class="card-body">
                    <div class="table-responsive">

                        <!-- newtable -->

                        <div class="card-body">
                            <div class="table-responsive">
                                <div class="table-responsive">
                                    <table class="table align-middle table-nowrap mb-0">
                                        <thead class="custom-table-header">
                                            <tr>
                                                 
                                                <th>Brand Name</th>
                                                <th>Total Orders</th>  
                                               
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <% topSellingBrands.forEach(brand => { %>
                                                <tr>
        
                                                  
                                                    
                                                    <td><%= brand.brandName %></td> <!-- Product name -->
                                                    <td><%= brand.totalQuantity %></td> <!-- Total quantity ordered -->   
                                                  
                                                </tr>
                                            <% }); %>
                                           
                                           
                                        </tbody>
                                    </table>
                                </div>
                            </div> <!-- table-responsive end// -->
                        </div>

                         <!-- newtable -->
                       
                        
                    </div> <!-- table-responsive end// -->
                </div>
            </div>





            <!-- ---------------------------------------------------top selling brands end--------------------------------------------------------------------------------------------- -->


            <!-- <div class="pagination-area mt-30 mb-50">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-start">
                        <li class="page-item active"><a class="page-link" href="#">01</a></li>
                        <li class="page-item"><a class="page-link" href="#">02</a></li>
                        <li class="page-item"><a class="page-link" href="#">03</a></li>
                        <li class="page-item"><a class="page-link dot" href="#">...</a></li>
                        <li class="page-item"><a class="page-link" href="#">16</a></li>
                        <li class="page-item"><a class="page-link" href="#"><i class="material-icons md-chevron_right"></i></a></li>
                    </ul>
                </nav>
            </div> -->
        </section> <!-- content-main end// -->
        <footer class="main-footer font-xs">
            <div class="row pb-30 pt-15">
                <div class="col-sm-6">
                    <script>
                    document.write(new Date().getFullYear())
                    </script> ©, Evara - HTML Ecommerce Template .
                </div>
                <div class="col-sm-6">
                    <div class="text-sm-end">
                        All rights reserved
                    </div>
                </div>
            </div>
        </footer>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-3d@1.0.5/build/Chart.min.js"></script>
    <script src="script.js"></script>
   
    
    <script>
       document.addEventListener('DOMContentLoaded', function () {
            const ctx = document.getElementById('monthlySalesChart').getContext('2d');
            const monthlySalesData = JSON.parse('<%= monthlySalesData %>'); // Parse JSON string into JavaScript object

            console.log('Monthly Sales Data:', monthlySalesData); // Debugging: Log data to console

            if (Array.isArray(monthlySalesData) && monthlySalesData.length > 0) {
                const data = {
                    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                    datasets: [{
                        label: 'Sales Data',
                        data: monthlySalesData,
                        backgroundColor: 'rgba(54, 162, 235, 0.6)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                };

                const options = {
                    plugins: {
                        legend: {
                            display: true,
                            position: 'bottom'
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            },
                            suggestedMin: 0
                        },
                        z: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    },
                    responsive: true,
                    maintainAspectRatio: false
                };

                const monthlySalesChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: options
                });
            } else {
                console.error('Monthly Sales Data is empty or invalid.'); // Debugging: Log error if data is empty
            }
        });
    </script>


<script>


</script>
    







    <script src="/admin-assets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="/admin-assets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="/admin-assets/js/vendors/select2.min.js"></script>
    <script src="/admin-assets/js/vendors/perfect-scrollbar.js"></script>
    <script src="/admin-assets/js/vendors/jquery.fullscreen.min.js"></script>
    <script src="/admin-assets/js/vendors/chart.js"></script>
    <!-- Main Script -->
    <script src="/admin-assets/js/main.js" type="text/javascript"></script>
    <script src="/admin-assets/js/custom-chart.js" type="text/javascript"></script>
</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:32:57 GMT -->
</html>